{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nexport const apiSlice = createApi({\n  reducerPath: \"api\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: process.env.REACT_APP_API_URL,\n    prepareHeaders: async (headers, _ref) => {\n      var _getState, _getState$auth;\n\n      let {\n        getState,\n        endpoint\n      } = _ref;\n      const token = (_getState = getState()) === null || _getState === void 0 ? void 0 : (_getState$auth = _getState.auth) === null || _getState$auth === void 0 ? void 0 : _getState$auth.accessToken;\n\n      if (token) {\n        headers.set(\"Authorization\", `Bearer ${token}`);\n      }\n\n      return headers;\n    }\n  }),\n  tagTypes: [],\n  endpoints: builder => ({})\n});","map":{"version":3,"names":["createApi","fetchBaseQuery","apiSlice","reducerPath","baseQuery","baseUrl","process","env","REACT_APP_API_URL","prepareHeaders","headers","getState","endpoint","token","auth","accessToken","set","tagTypes","endpoints","builder"],"sources":["/var/www/html/think-in-a-redux-way/src/features/api/apiSlice.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nexport const apiSlice = createApi({\n    reducerPath: \"api\",\n    baseQuery: fetchBaseQuery({\n        baseUrl: process.env.REACT_APP_API_URL,\n        prepareHeaders: async (headers, { getState, endpoint }) => {\n            const token = getState()?.auth?.accessToken;\n            if (token) {\n                headers.set(\"Authorization\", `Bearer ${token}`);\n            }\n\n            return headers;\n        },\n    }),\n    tagTypes: [],\n    endpoints: (builder) => ({}),\n});\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,cAApB,QAA0C,8BAA1C;AAEA,OAAO,MAAMC,QAAQ,GAAGF,SAAS,CAAC;EAC9BG,WAAW,EAAE,KADiB;EAE9BC,SAAS,EAAEH,cAAc,CAAC;IACtBI,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,iBADC;IAEtBC,cAAc,EAAE,OAAOC,OAAP,WAA2C;MAAA;;MAAA,IAA3B;QAAEC,QAAF;QAAYC;MAAZ,CAA2B;MACvD,MAAMC,KAAK,gBAAGF,QAAQ,EAAX,gEAAG,UAAYG,IAAf,mDAAG,eAAkBC,WAAhC;;MACA,IAAIF,KAAJ,EAAW;QACPH,OAAO,CAACM,GAAR,CAAY,eAAZ,EAA8B,UAASH,KAAM,EAA7C;MACH;;MAED,OAAOH,OAAP;IACH;EATqB,CAAD,CAFK;EAa9BO,QAAQ,EAAE,EAboB;EAc9BC,SAAS,EAAGC,OAAD,KAAc,EAAd;AAdmB,CAAD,CAA1B"},"metadata":{},"sourceType":"module"}